(self.webpackChunksleact_ts_front=self.webpackChunksleact_ts_front||[]).push([[477],{9250:(n,e,t)=>{"use strict";t.d(e,{Z:()=>m});var r=t(5692),o=t(8678),a=t(3046),l=t(3564),i=t(9669),c=t.n(i),s=t(7294),u=t(6550),p=t(6042),d=t(8575);function f(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const m=function(n){var e,t,i=n.show,m=n.onCloseModal,h=n.setShowInviteChannelModal,b=(0,u.UO)(),g=b.workspace,v=b.channel,x=(e=(0,o.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,t)||function(n,e){if(n){if("string"==typeof n)return f(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=x[0],w=x[1],k=x[2],E=(0,d.ZP)("/api/users",l.Z).data,C=(0,d.ZP)(E&&v?"/api/workspaces/".concat(g,"/channels/").concat(v,"/members"):null,l.Z).revalidate,Z=(0,s.useCallback)((function(n){n.preventDefault(),y&&y.trim()&&c().post("/api/workspaces/".concat(g,"/channels/").concat(v,"/members"),{email:y}).then((function(){C(),h(!1),k("")})).catch((function(n){var e;console.dir(n),p.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[y]);return s.createElement(r.Z,{show:i,onCloseModal:m},s.createElement("form",{onSubmit:Z},s.createElement(a.__,{id:"member-label"},s.createElement("span",null,"채널 멤버 초대"),s.createElement(a.II,{id:"member",value:y,onChange:w})),s.createElement(a.zx,{type:"submit"},"초대하기")))}},5692:(n,e,t)=>{"use strict";t.d(e,{Z:()=>u});var r,o,a=t(5996);function l(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var i=a.Z.div(r||(r=l(["\n  position: fixed;\n  text-align: center;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  right: 0;\n  z-index: 1022;\n  & > div {\n    margin-top: 200px;\n    display: inline-block;\n    width: 440px;\n    background: white;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    max-width: 440px;\n    padding: 30px 40px 0;\n    z-index: 1012;\n    position: relative;\n  }\n"]))),c=a.Z.button(o||(o=l(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),s=t(7294);const u=function(n){var e=n.show,t=n.children,r=n.onCloseModal,o=(0,s.useCallback)((function(n){n.stopPropagation()}),[]);return e?s.createElement(i,{onClick:r},s.createElement("div",{onClick:o},s.createElement(c,{onClick:r},"×"),t)):null}},8678:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var r=t(7294);function o(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const a=function(n){var e,t,a=(e=(0,r.useState)(n),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,t)||function(n,e){if(n){if("string"==typeof n)return o(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=a[0],i=a[1];return[l,(0,r.useCallback)((function(n){i(n.target.value)}),[]),i]}},2951:(n,e,t)=>{"use strict";t.d(e,{Z:()=>i});var r=t(6809),o=t.n(r),a=t(7294),l={};const i=function(n){console.log("rerender",n);var e=(0,a.useCallback)((function(){n&&(l[n].disconnect(),delete l[n])}),[n]);return n?(l[n]||(l[n]=o()("".concat("http://localhost:3095","/ws-").concat(n),{transports:["websocket"]})),[l[n],e]):[void 0,e]}},2867:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>En});var r,o,a,l,i,c,s,u,p,d,f,m,h,b,g=t(5996);function v(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var x,y,w,k=g.Z.div(r||(r=v(["\n  float: right;\n"]))),E=g.Z.header(o||(o=v(["\n  height: 38px;\n  background: #350d36;\n  color: #ffffff;\n  box-shadow: 0 1px 0 0 rgba(255, 255, 255, 0.1);\n  padding: 5px;\n  text-align: center;\n"]))),C=g.Z.img(a||(a=v(["\n  width: 28px;\n  height: 28px;\n  position: absolute;\n  top: 5px;\n  right: 16px;\n"]))),Z=g.Z.div(l||(l=v(["\n  display: flex;\n  padding: 20px;\n  & img {\n    display: flex;\n  }\n  & > div {\n    display: flex;\n    flex-direction: column;\n    margin-left: 10px;\n  }\n  & #profile-name {\n    font-weight: bold;\n    display: inline-flex;\n  }\n  & #profile-active {\n    font-size: 13px;\n    display: inline-flex;\n  }\n"]))),_=g.Z.button(i||(i=v(["\n  border: none;\n  width: 100%;\n  border-top: 1px solid rgb(29, 28, 29);\n  background: transparent;\n  display: block;\n  height: 33px;\n  padding: 5px 20px 5px;\n  outline: none;\n  cursor: pointer;\n"]))),S=g.Z.div(c||(c=v(["\n  display: flex;\n  flex: 1;\n"]))),O=g.Z.div(s||(s=v(["\n  width: 65px;\n  display: inline-flex;\n  flex-direction: column;\n  align-items: center;\n  background: #3f0e40;\n  border-top: 1px solid rgb(82, 38, 83);\n  border-right: 1px solid rgb(82, 38, 83);\n  vertical-align: top;\n  text-align: center;\n  padding: 15px 0 0;\n"]))),j=g.Z.nav(u||(u=v(["\n  width: 260px;\n  display: inline-flex;\n  flex-direction: column;\n  background: #3f0e40;\n  color: rgb(188, 171, 188);\n  vertical-align: top;\n  & a {\n    padding-left: 36px;\n    color: inherit;\n    text-decoration: none;\n    height: 28px;\n    line-height: 28px;\n    display: flex;\n    align-items: center;\n    &.selected {\n      color: white;\n    }\n  }\n  & .bold {\n    color: white;\n    font-weight: bold;\n  }\n  & .count {\n    margin-left: auto;\n    background: #cd2553;\n    border-radius: 16px;\n    display: inline-block;\n    font-size: 12px;\n    font-weight: 700;\n    height: 18px;\n    line-height: 18px;\n    padding: 0 9px;\n    color: white;\n    margin-right: 16px;\n  }\n  & h2 {\n    height: 36px;\n    line-height: 36px;\n    margin: 0;\n    text-overflow: ellipsis;\n    overflow: hidden;\n    white-space: nowrap;\n    font-size: 15px;\n  }\n"]))),A=g.Z.button(p||(p=v(["\n  height: 64px;\n  line-height: 64px;\n  border: none;\n  width: 100%;\n  text-align: left;\n  border-top: 1px solid rgb(82, 38, 83);\n  border-bottom: 1px solid rgb(82, 38, 83);\n  font-weight: 900;\n  font-size: 24px;\n  background: transparent;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  padding: 0;\n  padding-left: 16px;\n  margin: 0;\n  color: white;\n  cursor: pointer;\n"]))),I=g.Z.div(d||(d=v(["\n  height: calc(100vh - 102px);\n  overflow-y: auto;\n"]))),P=g.Z.div(f||(f=v(["\n  padding: 10px 0 0;\n  & h2 {\n    padding-left: 20px;\n  }\n  & > button {\n    width: 100%;\n    height: 28px;\n    padding: 4px;\n    border: none;\n    background: transparent;\n    border-top: 1px solid rgb(28, 29, 28);\n    cursor: pointer;\n    &:last-of-type {\n      border-bottom: 1px solid rgb(28, 29, 28);\n    }\n  }\n"]))),z=g.Z.div(m||(m=v(["\n  flex: 1;\n"]))),M=g.Z.button(h||(h=v(["\n  color: white;\n  font-size: 24px;\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  background: transparent;\n  border: none;\n  cursor: pointer;\n"]))),U=g.Z.button(b||(b=v(["\n  display: inline-block;\n  width: 40px;\n  height: 40px;\n  border-radius: 10px;\n  background: white;\n  border: 3px solid #3f0e40;\n  margin-bottom: 15px;\n  font-size: 18px;\n  font-weight: 700;\n  color: black;\n  cursor: pointer;\n"]))),D=g.Z.button(x||(y=["\n  background: transparent;\n  border: none;\n  width: 26px;\n  height: 26px;\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  margin-left: 10px;\n  cursor: pointer;\n  ",";\n"],w||(w=y.slice(0)),x=Object.freeze(Object.defineProperties(y,{raw:{value:Object.freeze(w)}}))),(function(n){return n.collapse&&"\n    & i {\n      transform: none;\n    }\n  "})),N=t(3564),T=t(7294),W=t(6550),$=t(3727),q=t(8575);function L(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const B=function(){var n,e,t=(0,W.UO)().workspace,r=(0,q.ZP)("/api/users",N.Z,{dedupingInterval:2e3}),o=r.data,a=(r.error,r.revalidate,r.mutate,(0,q.ZP)(o?"/api/workspaces/".concat(t,"/channels"):null,N.Z).data),l=(n=(0,T.useState)(!1),e=2,function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return L(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?L(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=l[0],c=l[1],s=(0,T.useCallback)((function(){c((function(n){return!n}))}),[]);return T.createElement(T.Fragment,null,T.createElement("h2",null,T.createElement(D,{collapse:i,onClick:s},T.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),T.createElement("span",null,"Channels")),T.createElement("div",null,!i&&(null==a?void 0:a.map((function(n){return T.createElement($.OL,{key:n.name,activeClassName:"selected",to:"/workspace/".concat(t,"/channel/").concat(n.name)},T.createElement("span",null,"# ",n.name))})))))};var F=t(5692),H=t(8678),J=t(3046),G=t(9669),K=t.n(G),Q=t(6042);function R(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const V=function(n){var e,t,r=n.show,o=n.onCloseModal,a=n.setShowCreateChannelModal,l=(e=(0,H.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,t)||function(n,e){if(n){if("string"==typeof n)return R(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),i=l[0],c=l[1],s=l[2],u=(0,W.UO)(),p=u.workspace,d=(u.channel,(0,q.ZP)("/api/users",N.Z,{dedupingInterval:2e3})),f=d.data,m=(d.error,d.revalidate,d.mutate,(0,q.ZP)(f?"/api/workspaces/".concat(p,"/channels"):null,N.Z)),h=(m.data,m.revalidate),b=(0,T.useCallback)((function(n){n.preventDefault(),K().post("/api/workspaces/".concat(p,"/channels"),{name:i},{withCredentials:!0}).then((function(){h(),a(!1),s("")})).catch((function(n){var e;console.dir(n),Q.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[i]);return T.createElement(F.Z,{show:r,onCloseModal:o},T.createElement("form",{onSubmit:b},T.createElement(J.__,{id:"channel-label"},T.createElement("span",null,"채널"),T.createElement(J.II,{id:"channel",value:i,onChange:c})),T.createElement(J.zx,{type:"submit"},"생성하기")))};var X=t(2951);function Y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function nn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(t),!0).forEach((function(e){en(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function en(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function tn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return rn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?rn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const on=function(){var n=(0,W.UO)().workspace,e=tn((0,X.Z)(n),1)[0],t=tn((0,T.useState)(!1),2),r=t[0],o=t[1],a=tn((0,T.useState)({}),2),l=a[0],i=a[1],c=tn((0,T.useState)([]),2),s=c[0],u=c[1],p=(0,q.ZP)("/api/users",N.Z,{dedupingInterval:2e3}),d=p.data,f=(p.error,p.revalidate,p.mutate,(0,q.ZP)(d?"/api/workspaces/".concat(n,"/members"):null,N.Z).data),m=(0,T.useCallback)((function(){o((function(n){return!n}))}),[]),h=(0,T.useCallback)((function(n){return function(){i((function(e){return nn(nn({},e),{},en({},n,0))}))}}),[]);return(0,T.useEffect)((function(){console.log("DMList: workspace 바꼈다",n),u([]),i({})}),[n]),(0,T.useEffect)((function(){return null==e||e.on("onlineList",(function(n){u(n)})),function(){null==e||e.off("onlineList")}}),[e]),T.createElement(T.Fragment,null,T.createElement("h2",null,T.createElement(D,{collapse:r,onClick:m},T.createElement("i",{className:"c-icon p-channel_sidebar__section_heading_expand p-channel_sidebar__section_heading_expand--show_more_feature c-icon--caret-right c-icon--inherit c-icon--inline","data-qa":"channel-section-collapse","aria-hidden":"true"})),T.createElement("span",null,"Direct Messages")),T.createElement("div",null,!r&&(null==f?void 0:f.map((function(e){var t=s.includes(e.id),r=l[e.id]||0;return T.createElement($.OL,{key:e.id,activeClassName:"selected",to:"/workspace/".concat(n,"/dm/").concat(e.id),onClick:h(e.id)},T.createElement("i",{className:"c-icon p-channel_sidebar__presence_icon p-channel_sidebar__presence_icon--dim_enabled c-presence ".concat(t?"c-presence--active c-icon--presence-online":"c-icon--presence-offline"),"aria-hidden":"true","data-qa":"presence_indicator","data-qa-presence-self":"false","data-qa-presence-active":"false","data-qa-presence-dnd":"false"}),T.createElement("span",{className:r>0?"bold":void 0},e.nickname),e.id===(null==d?void 0:d.id)&&T.createElement("span",null," (나)"),r>0&&T.createElement("span",{className:"count"},r))})))))};var an=t(9250);function ln(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}const cn=function(n){var e,t,r=n.show,o=n.onCloseModal,a=n.setShowInviteWorkspaceModal,l=(0,W.UO)().workspace,i=(e=(0,H.Z)(""),t=3,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(e,t)||function(n,e){if(n){if("string"==typeof n)return ln(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?ln(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=i[0],s=i[1],u=i[2],p=(0,q.ZP)("/api/users",N.Z).data,d=(0,q.ZP)(p?"/api/workspaces/".concat(l,"/members"):null,N.Z).revalidate,f=(0,T.useCallback)((function(n){n.preventDefault(),c&&c.trim()&&K().post("/api/workspaces/".concat(l,"/members"),{email:c}).then((function(n){d(),a(!1),u("")})).catch((function(n){var e;console.dir(n),Q.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[l,c]);return T.createElement(F.Z,{show:r,onCloseModal:o},T.createElement("form",{onSubmit:f},T.createElement(J.__,{id:"member-label"},T.createElement("span",null,"이메일"),T.createElement(J.II,{id:"member",type:"email",value:c,onChange:s})),T.createElement(J.zx,{type:"submit"},"초대하기")))};var sn,un;function pn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var dn=g.Z.div(sn||(sn=pn(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  z-index: 1000;\n  & > div {\n    position: absolute;\n    display: inline-block;\n    --saf-0: rgba(var(--sk_foreground_low, 29, 28, 29), 0.13);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 4px 12px 0 rgba(0, 0, 0, 0.12);\n    background-color: rgba(var(--sk_foreground_min_solid, 248, 248, 248), 1);\n    border-radius: 6px;\n    user-select: none;\n    min-width: 360px;\n    z-index: 512;\n    max-height: calc(100vh - 20px);\n    color: rgb(29, 28, 29);\n  }\n"]))),fn=g.Z.button(un||(un=pn(["\n  position: absolute;\n  right: 10px;\n  top: 6px;\n  background: transparent;\n  border: none;\n  font-size: 30px;\n  cursor: pointer;\n"]))),mn=function(n){var e=n.children,t=n.style,r=n.show,o=n.onCloseModal,a=n.closeButton,l=(0,T.useCallback)((function(n){n.stopPropagation()}),[]);return r?T.createElement(dn,{onClick:o},T.createElement("div",{style:t,onClick:l},a&&T.createElement(fn,{onClick:o},"×"),e)):null};mn.defaultProps={closeButton:!0};const hn=mn;var bn=t(3810),gn=t(6182),vn=t.n(gn);function xn(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,a=[],l=!0,i=!1;try{for(t=t.call(n);!(l=(r=t.next()).done)&&(a.push(r.value),!e||a.length!==e);l=!0);}catch(n){i=!0,o=n}finally{try{l||null==t.return||t.return()}finally{if(i)throw o}}return a}}(n,e)||function(n,e){if(n){if("string"==typeof n)return yn(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?yn(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function yn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}t(5202);var wn=(0,bn.ZP)((function(){return Promise.all([t.e(949),t.e(256)]).then(t.bind(t,5256))})),kn=(0,bn.ZP)((function(){return Promise.all([t.e(949),t.e(94)]).then(t.bind(t,3094))}));const En=function(){var n,e,t=xn((0,T.useState)(!1),2),r=t[0],o=t[1],a=xn((0,T.useState)(!1),2),l=a[0],i=a[1],c=xn((0,T.useState)(!1),2),s=c[0],u=c[1],p=xn((0,T.useState)(!1),2),d=p[0],f=p[1],m=xn((0,T.useState)(!1),2),h=m[0],b=m[1],g=xn((0,T.useState)(!1),2),v=g[0],x=g[1],y=xn((0,H.Z)(""),3),w=y[0],D=y[1],L=y[2],G=xn((0,H.Z)(""),3),R=G[0],Y=G[1],nn=G[2],en=(0,W.UO)().workspace,tn=(0,q.ZP)("/api/users",N.Z,{dedupingInterval:2e3}),rn=tn.data,ln=(tn.error,tn.revalidate),sn=tn.mutate,un=(0,q.ZP)(rn?"/api/workspaces/".concat(en,"/channels"):null,N.Z).data,pn=((0,q.ZP)(rn?"/api/workspaces/".concat(en,"/members"):null,N.Z).data,xn((0,X.Z)(en),2)),dn=pn[0],fn=pn[1];(0,T.useEffect)((function(){un&&rn&&dn&&(console.log(dn),dn.emit("login",{id:rn.id,channels:un.map((function(n){return n.id}))}))}),[un,rn,dn]),(0,T.useEffect)((function(){return function(){fn()}}),[en,fn]);var mn=(0,T.useCallback)((function(){K().post("/api/users/logout",null,{withCredentials:!0}).then((function(){sn(!1,!1)}))}),[]),bn=(0,T.useCallback)((function(n){n.stopPropagation(),o((function(n){return!n}))}),[]),gn=(0,T.useCallback)((function(){i(!0)}),[]),yn=(0,T.useCallback)((function(n){n.preventDefault(),w&&w.trim()&&R&&R.trim()&&K().post("/api/workspaces",{workspace:w,url:R},{withCredentials:!0}).then((function(){ln(),i(!1),L(""),nn("")})).catch((function(n){var e;console.dir(n),Q.Am.error(null===(e=n.response)||void 0===e?void 0:e.data,{position:"bottom-center"})}))}),[w,R]),En=(0,T.useCallback)((function(){i(!1),x(!1),u(!1),f(!1)}),[]),Cn=(0,T.useCallback)((function(){b((function(n){return!n}))}),[]),Zn=(0,T.useCallback)((function(){x(!0)}),[]),_n=(0,T.useCallback)((function(){u(!0)}),[]);return rn?T.createElement("div",null,T.createElement(E,null,rn&&T.createElement(k,null,T.createElement("span",{onClick:bn},T.createElement(C,{src:vn().url(rn.email,{s:"28px",d:"retro"}),alt:rn.nickname})),r&&T.createElement(hn,{style:{right:0,top:38},show:r,onCloseModal:bn},T.createElement(Z,null,T.createElement("img",{src:vn().url(rn.email,{s:"36px",d:"retro"}),alt:rn.nickname}),T.createElement("div",null,T.createElement("span",{id:"profile-name"},rn.nickname),T.createElement("span",{id:"profile-active"},"Active"))),T.createElement(_,{onClick:mn},"로그아웃")))),T.createElement(S,null,T.createElement(O,null,null==rn?void 0:rn.Workspaces.map((function(n){return T.createElement($.rU,{key:n.id,to:"/workspace/".concat(n.url,"/channel/일반")},T.createElement(U,null,n.name.slice(0,1).toUpperCase()))})),T.createElement(M,{onClick:gn},"+")),T.createElement(j,null,T.createElement(A,{onClick:Cn},null==rn||null===(n=rn.Workspaces.find((function(n){return n.url===en})))||void 0===n?void 0:n.name),T.createElement(I,null,T.createElement(hn,{style:{top:95,left:80},show:h,onCloseModal:Cn},T.createElement(P,null,T.createElement("h2",null,null==rn||null===(e=rn.Workspaces.find((function(n){return n.url===en})))||void 0===e?void 0:e.name),T.createElement("button",{onClick:_n},"워크스페이스에 사용자 초대"),T.createElement("button",{onClick:Zn},"채널 만들기"),T.createElement("button",{onClick:mn},"로그아웃"))),T.createElement(B,null),T.createElement(on,null))),T.createElement(z,null,T.createElement(W.rs,null,T.createElement(W.AW,{path:"/workspace/:workspace/channel/:channel",component:wn}),T.createElement(W.AW,{path:"/workspace/:workspace/dm/:id",component:kn})))),T.createElement(F.Z,{show:l,onCloseModal:En},T.createElement("form",{onSubmit:yn},T.createElement(J.__,{id:"workspace-label"},T.createElement("span",null,"워크스페이스 이름"),T.createElement(J.II,{id:"workspace",value:w,onChange:D})),T.createElement(J.__,{id:"workspace-url-label"},T.createElement("span",null,"워크스페이스 url"),T.createElement(J.II,{id:"workspace",value:R,onChange:Y})),T.createElement(J.zx,{type:"submit"},"생성하기"))),T.createElement(V,{show:v,onCloseModal:En,setShowCreateChannelModal:x}),T.createElement(cn,{show:s,onCloseModal:En,setShowInviteWorkspaceModal:u}),T.createElement(an.Z,{show:d,onCloseModal:En,setShowInviteChannelModal:f}),T.createElement(Q.Ix,{position:"bottom-center"})):T.createElement(W.l_,{to:"/login"})}},3046:(n,e,t)=>{"use strict";t.d(e,{II:()=>b,Ji:()=>y,__:()=>h,fB:()=>x,h4:()=>f,jj:()=>v,l0:()=>m,zx:()=>g});var r,o,a,l,i,c,s,u,p=t(5996);function d(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var f=p.Z.header(r||(r=d(["\n  text-align: center;\n  font-family: Slack-Larsseit, Helvetica Neue, Helvetica, Segoe UI, Tahoma, Arial, sans-serif;\n  font-weight: 700;\n  font-size: 48px;\n  line-height: 46px;\n  letter-spacing: -0.75px;\n  margin-top: 50px;\n  margin-bottom: 50px;\n"]))),m=p.Z.form(o||(o=d(["\n  margin: 0 auto;\n  width: 400px;\n  max-width: 400px;\n"]))),h=p.Z.label(a||(a=d(["\n  margin-bottom: 16px;\n  & > span {\n    display: block;\n    text-align: left;\n    padding-bottom: 8px;\n    font-size: 15px;\n    cursor: pointer;\n    line-height: 1.46666667;\n    font-weight: 700;\n  }\n"]))),b=p.Z.input(l||(l=d(["\n  border-radius: 4px;\n  --saf-0: rgba(var(--sk_foreground_high_solid, 134, 134, 134), 1);\n  border: 1px solid var(--saf-0);\n  transition: border 80ms ease-out, box-shadow 80ms ease-out;\n  box-sizing: border-box;\n  margin: 0 0 20px;\n  width: 100%;\n  color: rgba(var(--sk_primary_foreground, 29, 28, 29), 1);\n  background-color: rgba(var(--sk_primary_background, 255, 255, 255), 1);\n  padding: 12px;\n  height: 44px;\n  padding-top: 11px;\n  padding-bottom: 13px;\n  font-size: 18px;\n  line-height: 1.33333333;\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),g=p.Z.button(i||(i=d(["\n  margin-bottom: 12px;\n  width: 100%;\n  max-width: 100%;\n  color: #fff;\n  background-color: #4a154b;\n  border: none;\n  font-size: 18px;\n  font-weight: 900;\n  height: 44px;\n  min-width: 96px;\n  padding: 0 16px 3px;\n  transition: all 80ms linear;\n  user-select: none;\n  outline: none;\n  cursor: pointer;\n  border-radius: 4px;\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.3);\n  &:hover {\n    background-color: rgba(74, 21, 75, 0.9);\n    border: none;\n  }\n  &:focus {\n    --saf-0: rgba(var(--sk_highlight, 18, 100, 163), 1);\n    box-shadow: 0 0 0 1px var(--saf-0), 0 0 0 5px rgba(29, 155, 209, 0.3);\n  }\n"]))),v=p.Z.div(c||(c=d(["\n  color: #e01e5a;\n  margin: 8px 0 16px;\n  font-weight: bold;\n"]))),x=p.Z.div(s||(s=d(["\n  color: #2eb67d;\n  font-weight: bold;\n"]))),y=p.Z.p(u||(u=d(["\n  font-size: 13px;\n  color: #616061;\n  margin: 0 auto 8px;\n  width: 400px;\n  max-width: 400px;\n  & a {\n    color: #1264a3;\n    text-decoration: none;\n    font-weight: 700;\n    &:hover {\n      text-decoration: underline;\n    }\n  }\n"])))},3564:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var r=t(9669),o=t.n(r);const a=function(n){return o().get(n,{withCredentials:!0}).then((function(n){return n.data}))}},7020:()=>{}}]);